\section{Veje}
Vi har indtil videre snakket om kanter, og hvordan de enkeltvis er incidente med knudepar. I dette afsnit vil vi udvide det til at snakke om \emph{veje}, som er følger af disse kanter, og dermed er de også grafer i sig selv. 

\begin{defn} [Veje] 
Lad $n \in \N _0$  og $G=(V,E)$ være en vilkårlig graf. En vej, $P$, af længde $n$, fra $a$ til $z$, i $G$ er en følge af $n$ kanter,  $ P= (e_{1},e_{2},\dotsc,e_{n})$, for hvilken der eksisterer en følge, $a=v_{1},v_{2},\dotsc,v_{n-1}$,$v_{n}=z$, af knuder sådan at $e_{i}$, for $i \in \{1,2,\dotsc,n-1 \}$, har endeknuderne $v_{i}$ og $v_{i+1}$. Når grafen er simpel, betegnes vejen ved grafens knudefølge, $(v_{1},v_{2},\dotsc,v_{n})$. Hvis den ikke er simpel, beskrives vejen ved kanterne, $(e_{1},e_{2},\dotsc,e_{n})$. 
\end{defn}
Vi kalder det en \emph{simpel vej}, hvis den kun passerer den samme kant én gang.

\input{fig/tikz/grafer/veje/eksempel}

Antallet af veje mellem to knuder i grafen kan findes ved hjælp af nabomatricer.
\begin{thm}
[Antallet af veje mellem to knuder] 
Lad G være en vilkårlig graf med nabomatricen
\textbf{$A$}, hvor knuderne er i rækkefølgen $v_{1},v_{2},\dotsc,v_{n}$. Da vil antallet af forskellige veje med længde $r$ fra $v_{i}$ til $v_{j}$ være lig den $(i,j)$'te indgang af \textbf{$A^{r}$}.
\end{thm}

\begin{proof}
Lad G være en graf med nabomatricen 
\textbf{$A$}, hvor vi antager, at knuderne i $G$ har rækkefølgen $v_{1},v_{2},\dotsc,v_{n}$. Antallet af veje fra $v_{i}$ til $v_{j}$ af længde 1 er da den $(i,j)$'te indgang til 
\textbf{$A$}. Dette skyldes, at det blot er antallet af kanter fra $v_{i}$ til $v_{j}$.
Vi antager, at den $(i,j)$'te indgang til 
\textbf{${A^r}$} er antallet af forskellige veje, som går fra $v_{i}$ til $v_{j}$, og som har længden $r$. Dette er hypotesen, vi ønsker at bekræfte.
Vi ser på nabomatricen \textbf{$A^{r+1}$}. 
\textbf{$A^{r+1}$} er det samme som 
\textbf{$A^{r}$}$\cdot$\textbf{$A$}. Derfor må indgangen til \textbf{$A^{r+1}$} være produktet af indgangene til \textbf{$A^{r}$} og kanterne fra \textbf{$A^{r}$} til \textbf{$A^{r+1}$}. Vi siger, at $b_{ik}$ er den $(i,k)$'te indgang til 
\textbf{$A^{r}$}, som ifølge vores hypotese er antallet af veje fra $v_{i}$ til $v_{k}$ med længde $r$. Vi siger også at $a_{kj}$ er den $(k,j)$'te indgang til 
\textbf{$A^{r+1}$}, som ifølge vores hypotese er antallet af veje fra $v_{k}$ til $v_{j}$ med længde $1$, hvilket vil sige kanterne mellem knuderne. Derved får vi den $(i,j)$'te indgang af \textbf{$A^{r+1}$} til at være: 

\begin{equation}
A^{r+1}=b_{i1}a_{1j} + b_{i2}a_{2j} +\dotsc+ b_{in}a_{nj}.
\end{equation}

Det ses altså, at en vej af længde $r + 1$ fra $v_{i}$ til $v_{j}$ er lavet ud fra en vej med længden $r$ fra begyndelsesknuden $v_{i}$ og hen til en mellemliggende knude $v_{k}$ samt den kant, der går fra $v_{k}$ til $v_{j}$. 
Da dette er summen af produktet af alle veje med længden r fra $v_{i}$ til $v_{k}$ og alle kanter fra $v_{k}$ til $v_{j}$, som har længden 1, og dette findes for alle mulige $v_{k}$, kan ovenstående ligning også omskrives til: 

\begin{equation}
A^{r+1}=\sum_{k=1}^{n} b_{ik} a_{kj}.
\end{equation}

For den første mulige $v_{k}$ har vi altså $b_{i1}$, som er antallet af veje fra $v_{i}$ til den første $v_{k}$, og $a_{1j}$ er vejen fra den første $v_{k}$ til $v_{j}$. Det ses, at produktet af disse to lægges sammen med produktet for de resterende $v_{k}$, så vi har antallet af alle mulige veje fra $v_{i}$ til $v_{j}$ gennem alle mulige $v_{k}$. Antallet af veje fra $v_{i}$ til $v_{j}$ med længde $r+1$ vil da være den (i,j)'te indgang til $A^{r+1}$. Derfor må det også gælde, at antallet af veje fra $v_{i}$ til $v_{j}$ med længde $r$ vil være den (i,j)'te indgang til $A^{r}$, hvilket var det, vi ville bevise.

\end{proof}

\begin{exmp}
Vi starter med at kigge på en graf og den tilhørende nabomatrix:
\input{fig/tikz/grafer/veje/eksempel-ikke-orienteret}


\begin{equation}
A=
\begin{blockarray}{rccccc}
	&v_1&v_2&v_3&v_4&v_5 \\
\begin{block}{r[ccccc]}
	v_1&0&1&1&1&0 \\
	v_2&1&0&0&1&0 \\
	v_3&1&0&0&0&1 \\
	v_4&1&1&0&0&1 \\
	v_5&0&0&1&1&0 \\
\end{block}
\end{blockarray}	
\end{equation}

Vi ønsker at finde ud af hvor mange veje med en længde på 4, der går fra $v_1$ til $v_5$. Det ses i nabomatricen, at $v_1$ har 3 naboer, nemlig $v_2$, $v_3$ og $v_4$. Fortsætter vi, kan vi se, at $v_2$ har $v_1$ og $v_4$ som naboer, $v_3$ har $v_1$ og $v_5$, og $v_4$ har $v_1$, $v_2$ og $v_5$ som naboer. Fortsætter vi, så vi finder alle tænkelige veje med længder på 3, får vi, at der er 18 forskellige veje, der alle starter i $v_1$ og har en længde på 3. Vi skal nu finde de veje, der ved at tilføje en kant ender i $v_5$. Vi kan se, at $v_5$ har $v_3$ og $v_4$ som naboer. Vi finder derfor de veje, der starter i $v_1$ og slutter i $v_3$, med længden 3, og derefter dem, der slutter i $v_4$, med længden 3. På denne måde udnytter vi, hvad vi skrev i beviset, nemlig at
\textbf{$A^{r+1}$} er lig med $b_{i1}a_{1j} + b_{i2}a_{2j} +\dotsb+ b_{in}a_{nj}$.
Her er $b_{ik}$ antallet af veje fra $v_{i}$ til ${v_k}$. I vores eksempel er $v_{i}=v_{1}$, ${v_{k1}}=v_{3}$, ${v_{k2}}=v_{4}$, $v_{j}=v_{5}$ og \textbf{$A^{r+1}$}=\textbf{$A^{3+1}$}. 
 
\input{fig/tikz/grafer/veje/eksempel-trae}

Antallet af veje fra $v_{1}$ til $v_{3}$ er 5, og antallet af veje fra $v_{1}$ til $v_{4}$ er 6. Vi kan derfor opstille
\textbf{$A^{4}$}$=b_{i1} a_{1j}+b_{i2} a_{2j}=5 \cdot 1+6 \cdot 1=11$.
Her er $b_{i1}$ antallet af veje fra $v_{1}$ til $v_{3}$, og $a_{1j}$ er antallet af kanter fra $v_{3}$ til  $v_{5}$. På samme måde optræder $b_{i2}$ og $a_{2j}$ for $v_{4}$. Der er altså 11 veje med længden 4 fra $v_{1}$ til $v_{5}$.

\end{exmp}

\input{incl/main/grafer/vægtede}